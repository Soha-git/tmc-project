---
stages:
  - syntax
  - Test
  - Build
  - TestImage
  - Deploy

  

synatx|GoLint:
  stage: syntax
  image: registry.gitlab.com/gitlab-org/gitlab-build-images:golangci-lint-alpine
  script:
    - golangci-lint run -v app


TestRequest|Test:
  stage: Test 
  image: golang:1.17.7-alpine3.14
  needs: ["synatx|GoLint"]
  script:
    - go test -v ./test/request_test.go 


TestServer|Test:
  stage: Test 
  image: golang:1.17.7-alpine3.14
  needs: ["synatx|GoLint"]
  script:
    - go test -v ./test/server_test.go 


